# 数据库的基本概念



## 数据库的基本概念

1. 数据库的英文单词： DataBase 简称 ： DB

   

2. 什么数据库？

   * 用于存储和管理数据的仓库。

     

3. 数据库的特点：

   1. 持久化存储数据的。其实数据库就是一个文件系统
   2. 方便存储和管理数据
   3. 使用了统一的方式操作数据库 -- SQL

   

4. 常见的数据库软件
   	* 参见《MySQL基础.pdf》



## 安装&卸载&配置&使用

1. 安装
2. 卸载
   1. 去mysql的安装目录找到my.ini文件		复制 datadir="C:/ProgramData/MySQL/MySQL Server 5.5/Data/"
   2. 卸载MySQL
   3. 删除C:/ProgramData目录下的MySQL文件夹。
3. 配置
   1. MySQL服务启动
      1. 手动。
      2. cmd --> services.msc  打开服务器的窗口
      3. 使用管理员的开cmd
         1. net start mysql80	:	启动mysql的服务
         2. net stop mysql80   :    关闭mysql服务
   2. 登录MySQL
      1. mysql -u用户名 -p密码
      2. mysql -hip -uroot -p连接目标的密码
      3. mysql --host=ip地址 --user=root --password=连接目标的密码
   3. MySQL退出
      1. exit
      2. quit
   4. MySQL目录结构
      1. MySQL安装目录：basedir="安装地址/MySQL/"
         1. 配置文件是 my.ini
      2. MySQL数据目录：basedir="安装地址//MySQL Server 5.5/Data/"
      3. 几个概念：
         1. 数据库：文件夹
         2. 表：文件
         3. 数据：数据



## SQL

1. 什么是SQL？

   Structured Query Language：结构化查询语言

   其实就是定义了操作所有关系型数据库的规则。每一种数据库操作的方式存在不一样的地方，称为“方言”。

   

2. SQL通用语法

   1. SQL 语句可以单行或多行书写，以分号结尾。
   2. 可使用空格和缩进来增强语句的可读性。
   3. MySQL 数据库的 SQL 语句不区分大小写，关键字建议使用大写。
   4. 三种注释：
      1. 单行注释：-- 注释内容  [SQL通用] [注意--后必须加空格]
      2. 单行注释：# 注释内容  [MySQL特有]
      3. 多行注释：/* 注释内容 */

   

3. SQL分类

   ​	![SQL分类](D:\源代码\A2_JavaWeb学习js\B1_MySQL学习\src\Data01_安装配置基本概念\图解\SQL分类.bmp)

   1. DDL(Data Definition Language)数据定义语言

      ​		用来定义数据库对象：数据库，表，列等。关键字：create, drop,alter 等

   2. DML(Data Manipulation Language)数据操作语言

     ​		用来对数据库中表的数据进行增删改。关键字：insert, delete, update 等

   3. DQL(Data Query Language)数据查询语言

     ​		用来查询数据库中表的记录(数据)。关键字：select, where 等

   4. DCL(Data Control Language)数据控制语言(了解)

     ​		用来定义数据库的访问权限和安全级别，及创建用户。关键字：GRANT， REVOKE 等
   
   



## SQL四分类讲解

### DDL:	操作数据库、表

操作数据库：CRUD

1. C [ Create ] :   创建
2. R [ Retrieve ] : 查询
3. U [ Updata ] :  修改
4. D [ Delete ] :   删除
5. 使用数据库

----



> #### 操作数据库
>
> ---


> ##### C [ Create ] :   创建
> 
> 1. 创建数据库：
>    ```mysql
>    create database 数据库名称;
>    ```
> 
> 2. 创建数据库, 判断不纯在, 在创建：
> 
>    ```mysql
>    create database if not exists 数据库名称;
>    ```
> 
> 3. 创建数据库, 并且指定字符集：
> 
>    ```mysql
>    create database 数据库名称 character set 字符集名称;
>    ```
> 
> 4. 综合小练习：创建newgbk数据库, 判断是否存在, 指定gbk编码
> 
>    ```mysql
>    create database if not exists newgbk character gbk;
>    ```
> 
> 
> 
> ##### R [ Retrieve ] : 查询
> 
> 1. 查询所有数据库的名称:
> 
>    ```mysql
>    show databases;
>    ```
> 
> 2. 查询某个数据库的字符集:查询某个数据库的创建语
> 
>    ```mysql
>    show create database 数据库名称;
>    ```
> 
> 
> 
> ##### U [ Updata ] :  修改
> 
> 1. 修改数据库的字符集
> 
>    ```mysql
>    alter database 数据库名称 character set 字符集名称;
>    ```
> 
> 
> 
> ##### D [ Delete ] :   删除
> 
> 1. 删除数据库
> 
>     ```mysql
>     drop database 数据库名称;
>     ```
> 
> 2. 判断数据库存在，存在再删除
> 
>    ```mysql
>    drop database if exists 数据库名称;
>    ```
> 
> 
> 
> ##### 使用数据库
> 
> 1. 查询当前正在使用的数据库名称
> 
>    ```mysql
>    select databese();		#要带括号 
>    ```

> 2. 使用数据库
> 
>    ```mysql
>    use 数据库名称;
>    ```
> 
>    
> 
---

---

---



> #### 操作表
>
> ---

> ##### C [ Create ] :   创建
>
> 1. 语法
>
>    ```mysql
>    create table 表名(
>    	列名1 数据类型1, #用逗号隔开
>        列名2 数据类型2(...),
>        ..... i
>        列名n 数据类型n  #最后一个不带逗号
>    );	#最后别忘了分号结束语句
>    ```
>    
> 2. 数据库类型：
>
>    |   类型    | 类型                                                         |
>    | :-------: | ------------------------------------------------------------ |
>    |    int    | 整数类型                                                     |
>    |  double   | 小数类型                                                     |
>    |  varchar  | 字符串  varchar(字符长度限制)                                |
>    |   date    | 日期  包含年月日：yyyy-MM-dd                                 |
>    | datetime  | 日期  包含年月日时分秒：yyyy-MM-dd HH:mm:ss                  |
>    | timestamp | 日期  包含年月日时分秒：yyyy-MM-dd HH:mm:ss <br />特点：如果将来不给这个字段赋值，或赋值为null，则默认使用当前的系统时间，来自动赋值 |
>    |  .......  | 还有一些不常见的类型, 一般不会用到                           |
>
> 3. 案例 - 创建一个表
>
>    ```mysql
>    create table 数据类型( #创建一个表,格式: create table 表名称(  ... );
>        字符串 varchar(10), #创建列名称和数据类型：表名称 数据类型 , ...
>        整形 int,     #多个列用 , 隔开
>        小数类型1 double, #double()
>        小数类型2 double(5,2), #设置范围,最大值时99999.99
>        日期1 date,       #日期 只包含年月日 yyyy-MM-dd
>        日期2 datetime,   #日期 包含年月日时分秒,yyyy-MM-dd HH:mm:ss
>        日期3 timestamp,  #日期 获取当前系统日期时间
>        布尔值 boolean,
>        还有一些不常用的 text,
>        end int      #最后一个列不用 , 号，否则会报错
>    );               #最后别忘了括号外面也有一个分号用于结束该整条语句。
>    ```
>
> 4. 另外的：copy到新表
>
>    ```mysql
>    create table 新表名 like 被复制的表名
>    ```
>
>    
>
> ---
>
> ##### R [ Retrieve ] : 查询
>
> 1. 查询某个数据库中所有的表名称
>
>    ```mysql
>    show tables;
>    ```
>
> 2. 查询表结构
>
>    ```mysql
>    desc 表名称;
>    ```
>
> 
>
> ---
>
> U [ Updata ] :  修改
>
> 1. 修改表名
>
>    ```mysql
>    alter table 表名 rename to 新表名;
>    ```
>
> 2. 修改表的字符集
>
>    ```mysql
>    alter table 表名 character set gbk;
>    ```
>
> 3. 添加一列
>
>    ```mysql
>    alter table 表名 add 新表名 新数据类型;
>    ```
>
> 4. 修改列名称、数据类型
>
>    ```mysql
>    alter table 表名 change 列名 新类名 新数据类型;
>    ```
>
>    ```mysql
>    alter table 表名 modify 列名 新数据类型;
>    ```
>
> 5. 删除列
>
>    ```mysql
>    alter table 表名 drop 列名;
>    ```
>
> 
>
> ---
>
> D [ Delete ] :   删除
>
> 1. 删除一张表
>
>    ```mysql
>    drop table 表名;
>    ```
>
> 2. 先判断是否存在，诺存在，再删除
>
>    ```mysql
>    drop table if not exists 表名;
>    ```
>
>    ---
>
> ---

